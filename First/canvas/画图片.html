<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        canvas {
            border: 1px solid #000;
        }
    </style>
</head>
<body>

<canvas width="400" height="400">您的浏览器不支持canvas标签</canvas>

<script>
    var canvas = document.querySelector("canvas");
    var ctx = canvas.getContext("2d");

    //    var img = new Image();
    //    img.src = "steak.jpg";

    //一般情况下，图片是最后加载的，可能画图片的时候图片还没加载完，就画布上去
    //所以等到图片加载完再画，一般用onload，也可以通过某个事件控制
    /*    img.onload = function (e) {
     console.log(e);
     ctx.drawImage(img, 0, 0, 300, 200);
     };

     //    获取鼠标在canvas当中的位置
     canvas.onmousemove = function (e) {
     //事件触发，会产生一个事件对象event，可以把事件event传给事件函数，然后获取事件信息
     console.log(e);
     //offset为相对于事件源左上角的位置
     console.log("x:" + e.offsetX + "  y:" + e.offsetY);
     }*/



    /*    var img=new Image();
     img.src="steak.jpg";

     canvas.onmousemove = function (e) {
     ctx.clearRect(0,0,400,400);
     var x= e.offsetX-img.width/2;
     var y= e.offsetY-img.height/2;
     ctx.drawImage(img,x,y);
     }*/



  /*  var img = new Image();
    img.src = "steak.jpg";

    ctx.clearRect(0, 0, 400, 400);
    ctx.translate(200, 200);

    img.onload=function(){
      ctx.drawImage(this,-img.width/2,-img.height/2);
    };

    var deg=0;
    setInterval(function () {
        ctx.clearRect(-200, -200, 400, 400);
        ctx.rotate(Math.PI/180*5);
        ctx.drawImage(img,-img.width/2,-img.height/2);
    },100);*/

    var img = new Image();
    img.src = "steak.jpg";

//    no-repeat:不平铺
//    repeat-x:水平方向平铺
//    repeat-y:垂直方向平铺
//    repeat:全方向平铺
    var type="repeat";
    var ptrn = ctx.createPattern(img,type);
    ctx.fillStyle = ptrn;
    ctx.fillRect(0,0,400,400);


</script>
</body>
</html>
