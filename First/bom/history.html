<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
  <div>
    <button>pushState-page1</button>
    <button>pushState-page2</button>
    <button>replaceState-page3</button>
    <button>back</button>
    <button>back</button>
    <button>go</button>
  </div>
<script>
  /*
    history.forward(); //前进
    history.go(1);  //前进

    history.go(0);  //刷新

    history.back();  //后退
    history.go(-1);  //后退
  */
  window.onpopstate = function(event) {
    alert("location: " + document.location + ", state: " + JSON.stringify(event.state))
  }
  
    //绑定事件处理函数. 
    history.pushState({page: 1}, "title 1", "?page=1")    //添加并激活一个历史记录条目 http://example.com/example.html?page=1,条目索引为1
    history.pushState({page: 2}, "title 2", "?page=2")    //添加并激活一个历史记录条目 http://example.com/example.html?page=2,条目索引为2
    history.replaceState({page: 3}, "title 3", "?page=3") //修改当前激活的历史记录条目 http://ex..?page=2 变为 http://ex..?page=3,条目索引为3
    history.back() // 弹出 "location: http://example.com/example.html?page=1, state: {"page":1}"
    history.back() // 弹出 "location: http://example.com/example.html, state: null
    history.go(2)  // 弹出 "location: http://example.com/example.html?page=3, state: {"page":3}
    history.go(1)
  
  var btns = document.querySelectorAll('button')
  btns[0].onclick = function () {
    history.pushState({page: 1}, "title 1", "?page=1")    //添加并激活一个历史记录条目 http://example.com/example.html?page=1,条目索引为1
  }
  btns[1].onclick = function () {
    history.pushState({page: 2}, "title 2", "?page=2")    //添加并激活一个历史记录条目 http://example.com/example.html?page=2,条目索引为2
  }
  btns[2].onclick = function () {
    history.replaceState({page: 3}, "title 3", "?page=3") //修改当前激活的历史记录条目 http://ex..?page=2 变为 http://ex..?page=3,条目索引为3
  }
  btns[3].onclick = function () {
    history.back() // 弹出 "location: http://example.com/example.html?page=1, state: {"page":1}"
  }
  btns[4].onclick = function () {
    history.back() // 弹出 "location: http://example.com/example.html, state: null
  }
  btns[5].onclick = function () {
    history.go(2)  // 弹出 "location: http://example.com/example.html?page=3, state: {"page":3}
  }
</script>
</body>
</html>
